{"version":3,"file":"imagelightbox.min.js","mappings":"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","sources":["webpack://imagelightbox/./src/imagelightbox.ts"],"sourcesContent":["// COMPONENTS //\nvar $activityObject = $(\"<div/>\")\n    .attr(\"class\", \"imagelightbox-loading\")\n    .append($(\"<div/>\")), $arrowLeftObject = $(\"<div/>\", {\n    \"class\": \"imagelightbox-arrow imagelightbox-arrow-left\"\n}), $arrowRightObject = $(\"<div/>\", {\n    \"class\": \"imagelightbox-arrow imagelightbox-arrow-right\"\n}), $arrows = $arrowLeftObject.add($arrowRightObject), $captionObject = $(\"<div/>\", {\n    \"class\": \"imagelightbox-caption\",\n    html: \"&nbsp;\"\n}), $buttonObject = $(\"<div/>\", {\n    \"class\": \"imagelightbox-close\"\n}), $overlayObject = $(\"<div/>\", {\n    \"class\": \"imagelightbox-overlay\"\n}), $navItem = $(\"<a/>\", {\n    href: \"#\",\n    \"class\": \"imagelightbox-navitem\"\n}), $navObject = $(\"<div/>\", {\n    \"class\": \"imagelightbox-nav\"\n}), $wrapper = $(\"<div/>\", {\n    \"class\": \"imagelightbox-wrapper\"\n}), $body = $(\"body\");\nvar cssTransitionSupport = function () {\n    var s = (document.body || document.documentElement)\n        .style;\n    if (s.transition === \"\") {\n        return \"\";\n    }\n    if (s.webkitTransition === \"\") {\n        return \"-webkit-\";\n    }\n    if (s.MozTransition === \"\") {\n        return \"-moz-\";\n    }\n    if (s.OTransition === \"\") {\n        return \"-o-\";\n    }\n    return false;\n}, hasCssTransitionSupport = cssTransitionSupport() !== false, cssTransitionTranslateX = function (element, positionX, speed) {\n    var options = {}, prefix = cssTransitionSupport() || \"\";\n    options[prefix + \"transform\"] =\n        \"translateX(\" + positionX + \") translateY(-50%)\";\n    options[prefix + \"transition\"] =\n        prefix + \"transform \" + speed.toString() + \"s ease-in\";\n    element.css(options);\n}, hasTouch = \"ontouchstart\" in window, navigator = window.navigator, hasPointers = navigator.pointerEnabled || navigator.msPointerEnabled, wasTouched = function (event) {\n    if (hasTouch) {\n        return true;\n    }\n    if (!hasPointers ||\n        typeof event === \"undefined\" ||\n        typeof event.pointerType === \"undefined\") {\n        return false;\n    }\n    if (typeof event.MSPOINTER_TYPE_MOUSE !==\n        \"undefined\") {\n        if (event.MSPOINTER_TYPE_MOUSE !==\n            event.pointerType) {\n            return true;\n        }\n    }\n    else if (event.pointerType !== \"mouse\") {\n        return true;\n    }\n    return false;\n}, legacyDocument = document, hasFullscreenSupport = !!(legacyDocument.fullscreenEnabled ||\n    legacyDocument.webkitFullscreenEnabled ||\n    legacyDocument.mozFullScreenEnabled ||\n    legacyDocument.msFullscreenEnabled), hasHistorySupport = !!(window.history && history.pushState);\n$.fn.imageLightbox = function (opts) {\n    var currentIndex = 0;\n    var image = $();\n    var inProgress = false;\n    var swipeDiff = 0;\n    var target = $();\n    var targetIndex = -1;\n    var targets = $([]);\n    var targetSet = \"\";\n    var videos = [], options = $.extend({\n        selector: \"a[data-imagelightbox]\",\n        id: \"imagelightbox\",\n        allowedTypes: \"png|jpg|jpeg|gif\",\n        animationSpeed: 250,\n        activity: false,\n        arrows: false,\n        button: false,\n        caption: false,\n        enableKeyboard: true,\n        history: false,\n        fullscreen: false,\n        gutter: 10,\n        offsetY: 0,\n        navigation: false,\n        overlay: false,\n        preloadNext: true,\n        quitOnEnd: false,\n        quitOnImgClick: false,\n        quitOnDocClick: true,\n        quitOnEscKey: true\n    }, opts), _onStart = function () {\n        if (options.arrows) {\n            arrowsOn();\n        }\n        if (options.navigation) {\n            navigationOn();\n        }\n        if (options.overlay) {\n            overlayOn();\n        }\n        if (options.button) {\n            closeButtonOn();\n        }\n        if (options.caption) {\n            $wrapper.append($captionObject);\n        }\n    }, _onLoadStart = function () {\n        if (options.activity) {\n            activityIndicatorOn();\n        }\n        if (options.caption) {\n            captionReset();\n        }\n    }, _onLoadEnd = function () {\n        if (options.activity) {\n            activityIndicatorOff();\n        }\n        if (options.arrows) {\n            $arrows.css(\"display\", \"block\");\n        }\n    }, _addQueryField = function (query, key, value) {\n        var newField = key + \"=\" + value;\n        var newQuery = \"?\" + newField;\n        if (query) {\n            var keyRegex = new RegExp(\"([?&])\" + key + \"=[^&]*\");\n            if (keyRegex.exec(query) !== null) {\n                newQuery = query.replace(keyRegex, \"$1\" + newField);\n            }\n            else {\n                newQuery = query + \"&\" + newField;\n            }\n        }\n        return newQuery;\n    }, _pushToHistory = function () {\n        if (!hasHistorySupport || !options.history) {\n            return;\n        }\n        var newIndex = targets[targetIndex].dataset.ilb2Id;\n        if (!newIndex) {\n            newIndex = targetIndex.toString();\n        }\n        var newState = {\n            imageLightboxIndex: newIndex,\n            imageLightboxSet: \"\"\n        };\n        var set = targets[targetIndex].dataset.imagelightbox;\n        if (set) {\n            newState.imageLightboxSet = set;\n        }\n        var newQuery = _addQueryField(document.location.search, \"imageLightboxIndex\", newIndex);\n        if (set) {\n            newQuery = _addQueryField(newQuery, \"imageLightboxSet\", set);\n        }\n        window.history.pushState(newState, \"\", document.location.pathname + newQuery);\n    }, _removeQueryField = function (query, key) {\n        var newQuery = query;\n        if (newQuery) {\n            var keyRegex1 = new RegExp(\"\\\\?\" + key + \"=[^&]*\");\n            var keyRegex2 = new RegExp(\"&\" + key + \"=[^&]*\");\n            newQuery = newQuery.replace(keyRegex1, \"?\");\n            newQuery = newQuery.replace(keyRegex2, \"\");\n        }\n        return newQuery;\n    }, _pushQuitToHistory = function () {\n        if (!hasHistorySupport || !options.history) {\n            return;\n        }\n        var newQuery = _removeQueryField(document.location.search, \"imageLightboxIndex\");\n        newQuery = _removeQueryField(newQuery, \"imageLightboxSet\");\n        window.history.pushState({}, \"\", document.location.pathname + newQuery);\n    }, _getQueryField = function (key) {\n        var keyValuePair = new RegExp(\"[?&]\" + key + \"(=([^&#]*)|&|#|$)\").exec(document.location.search);\n        if (!keyValuePair || !keyValuePair[2]) {\n            return undefined;\n        }\n        return decodeURIComponent(keyValuePair[2].replace(/\\+/g, \" \"));\n    }, _openHistory = function () {\n        if (!hasHistorySupport || !options.history) {\n            return;\n        }\n        var id = _getQueryField(\"imageLightboxIndex\");\n        if (!id) {\n            return;\n        }\n        var element = targets.filter('[data-ilb2-id=\"' + id + '\"]');\n        if (element.length > 0) {\n            targetIndex = targets.index(element);\n        }\n        else {\n            targetIndex = parseInt(id);\n            element = $(targets[targetIndex]);\n        }\n        var set = _getQueryField(\"imageLightboxSet\");\n        if (!element[0] ||\n            (!!set && set !== element[0].dataset.imagelightbox)) {\n            return;\n        }\n        _openImageLightbox(element, true);\n    }, _popHistory = function (event) {\n        var newState = event.originalEvent.state;\n        if (!newState) {\n            _quitImageLightbox(true);\n            return;\n        }\n        var newId = newState.imageLightboxIndex;\n        if (newId === undefined) {\n            _quitImageLightbox(true);\n            return;\n        }\n        var element = targets.filter('[data-ilb2-id=\"' + newId + '\"]');\n        if (element.length === 0) {\n            return;\n        }\n        var newIndex = targets.index(element);\n        if (!element[0] ||\n            (newState.imageLightboxSet &&\n                newState.imageLightboxSet !==\n                    element[0].dataset.imagelightbox)) {\n            return;\n        }\n        if (targetIndex < 0) {\n            _openImageLightbox(element, true);\n            return;\n        }\n        var direction = +1;\n        if (newIndex > targetIndex) {\n            direction = -1;\n        }\n        target = element;\n        targetIndex = newIndex;\n        _loadImage(direction);\n    }, _previousTarget = function () {\n        if (inProgress) {\n            return;\n        }\n        targetIndex--;\n        if (targetIndex < 0) {\n            if (options.quitOnEnd === true) {\n                _quitImageLightbox();\n                return;\n            }\n            else {\n                targetIndex = targets.length - 1;\n            }\n        }\n        target = targets.eq(targetIndex);\n        _pushToHistory();\n        $wrapper.trigger(\"previous.ilb2\", target);\n        _loadImage(+1);\n    }, _nextTarget = function () {\n        if (inProgress) {\n            return;\n        }\n        targetIndex++;\n        if (targetIndex >= targets.length) {\n            if (options.quitOnEnd === true) {\n                _quitImageLightbox();\n                return;\n            }\n            else {\n                targetIndex = 0;\n            }\n        }\n        _pushToHistory();\n        target = targets.eq(targetIndex);\n        $wrapper.trigger(\"next.ilb2\", target);\n        _loadImage(-1);\n    }, activityIndicatorOn = function () {\n        $wrapper.append($activityObject);\n    }, activityIndicatorOff = function () {\n        $(\".imagelightbox-loading\").remove();\n    }, overlayOn = function () {\n        $wrapper.append($overlayObject);\n    }, closeButtonOn = function () {\n        $buttonObject\n            .appendTo($wrapper)\n            .on(\"click.ilb7\", function () {\n            _quitImageLightbox();\n            return false;\n        });\n    }, captionReset = function () {\n        $captionObject.css(\"opacity\", \"0\");\n        $captionObject.html(\"&nbsp;\");\n        if ($(target).data(\"ilb2-caption\")) {\n            $captionObject.css(\"opacity\", \"1\");\n            $captionObject.html($(target).data(\"ilb2-caption\"));\n        }\n        else if ($(target).find(\"img\").attr(\"alt\")) {\n            $captionObject.css(\"opacity\", \"1\");\n            $captionObject.html($(target).find(\"img\").attr(\"alt\"));\n        }\n    }, navigationOn = function () {\n        if (!targets.length) {\n            return;\n        }\n        for (var i = 0; i < targets.length; i++) {\n            $navObject.append($navItem.clone());\n        }\n        var $navItems = $navObject.children(\"a\");\n        $navItems.eq(targets.index(target)).addClass(\"active\");\n        $wrapper.on(\"previous.ilb2 next.ilb2\", function () {\n            $navItems\n                .removeClass(\"active\")\n                .eq(targets.index(target))\n                .addClass(\"active\");\n        });\n        $wrapper.append($navObject);\n        $navObject\n            .on(\"click.ilb7 touchend.ilb7\", function () {\n            return false;\n        })\n            .on(\"click.ilb7 touchend.ilb7\", \"a\", function () {\n            var $this = $(this);\n            if (targets.eq($this.index()).attr(\"href\") !==\n                $(\".imagelightbox\").attr(\"src\")) {\n                var tmpTarget = targets.eq($this.index());\n                if (tmpTarget.length) {\n                    currentIndex = targets.index(target);\n                    target = tmpTarget;\n                    _loadImage($this.index() < currentIndex ? -1 : 1);\n                }\n            }\n            $this.addClass(\"active\").siblings().removeClass(\"active\");\n        });\n    }, arrowsOn = function () {\n        $wrapper.append($arrows);\n        $arrows.on(\"click.ilb7 touchend.ilb7\", function (e) {\n            e.stopImmediatePropagation();\n            e.preventDefault();\n            if ($(this).hasClass(\"imagelightbox-arrow-left\")) {\n                _previousTarget();\n            }\n            else {\n                _nextTarget();\n            }\n        });\n    }, isTargetValid = function (element) {\n        // eslint-disable-next-line\n        return $(element).prop('tagName').toLowerCase() === 'a' && ((new RegExp('\\.(' + options.allowedTypes + ')$', 'i')).test($(element).attr('href')) || $(element).data('ilb2Video'));\n    }, _setImage = function () {\n        if (!image.length) {\n            return;\n        }\n        var captionHeight = options.caption\n            ? $captionObject.outerHeight()\n            : 0, screenWidth = $(window).width(), screenHeight = $(window).height() - captionHeight, gutterFactor = Math.abs(1 - options.gutter / 100);\n        function setSizes(imageWidth, imageHeight) {\n            if (imageWidth > screenWidth || imageHeight > screenHeight) {\n                var ratio = imageWidth / imageHeight > screenWidth / screenHeight\n                    ? imageWidth / screenWidth\n                    : imageHeight / screenHeight;\n                imageWidth /= ratio;\n                imageHeight /= ratio;\n            }\n            var cssHeight = imageHeight * gutterFactor, cssWidth = imageWidth * gutterFactor, cssLeft = ($(window).width() - cssWidth) / 2;\n            image.css({\n                width: cssWidth.toString() + \"px\",\n                height: cssHeight.toString() + \"px\",\n                left: cssLeft.toString() + \"px\"\n            });\n        }\n        var videoId = image.data(\"ilb2VideoId\");\n        var videoHasDimensions = false;\n        $.each(videos, function (_, video) {\n            if (videoId === this.i) {\n                setSizes(video.w, video.h);\n                videoHasDimensions = true;\n            }\n        });\n        if (videoHasDimensions) {\n            return;\n        }\n        var videoElement = image.get(0);\n        if (videoElement.videoWidth !== undefined) {\n            setSizes(videoElement.videoWidth, videoElement.videoHeight);\n            return;\n        }\n        var tmpImage = new Image();\n        tmpImage.src = image.attr(\"src\");\n        tmpImage.onload = function () {\n            setSizes(tmpImage.width, tmpImage.height);\n        };\n    }, _loadImage = function (direction) {\n        if (inProgress) {\n            return;\n        }\n        if (image.length) {\n            var params = { opacity: 0 };\n            if (hasCssTransitionSupport) {\n                cssTransitionTranslateX(image, (100 * direction - swipeDiff).toString() + \"px\", options.animationSpeed / 1000);\n            }\n            else {\n                params.left =\n                    (parseInt(image.css(\"left\")) +\n                        100 * direction).toString() + \"px\";\n            }\n            image.animate(params, options.animationSpeed, function () {\n                _removeImage();\n            });\n            swipeDiff = 0;\n        }\n        inProgress = true;\n        _onLoadStart();\n        setTimeout(function () {\n            var swipeStart = 0;\n            var swipeEnd = 0;\n            var imagePosLeft = 0;\n            var imgPath = target.attr(\"href\");\n            // if (imgPath === undefined) {\n            //     imgPath = target.attr('data-lightbox');\n            // }\n            var videoOptions = target.data(\"ilb2Video\");\n            var element = $();\n            var preloadedVideo;\n            if (videoOptions) {\n                $.each(videos, function (_, video) {\n                    if (video.i === target.data(\"ilb2VideoId\")) {\n                        preloadedVideo = video.l;\n                        element = video.e;\n                        if (video.a) {\n                            if (preloadedVideo === false) {\n                                element.attr(\"autoplay\", video.a);\n                            }\n                            if (preloadedVideo === true) {\n                                void element.get(0).play();\n                            }\n                        }\n                    }\n                });\n            }\n            else {\n                element = $(\"<img id='\" + options.id + \"' />\").attr(\"src\", imgPath);\n            }\n            function onload() {\n                var params = { opacity: 1 };\n                image.appendTo($wrapper);\n                _setImage();\n                image.css(\"opacity\", 0);\n                if (hasCssTransitionSupport) {\n                    cssTransitionTranslateX(image, (-100 * direction).toString() + \"px\", 0);\n                    setTimeout(function () {\n                        cssTransitionTranslateX(image, \"0px\", options.animationSpeed / 1000);\n                    }, 50);\n                }\n                else {\n                    imagePosLeft = parseInt(image.css(\"left\"));\n                    params.left = imagePosLeft.toString() + \"px\";\n                    image.css(\"left\", (imagePosLeft - 100 * direction).toString() + \"px\");\n                }\n                image.animate(params, options.animationSpeed, function () {\n                    inProgress = false;\n                    _onLoadEnd();\n                });\n                if (options.preloadNext) {\n                    var nextTarget = targets.eq(targets.index(target) + 1);\n                    if (!nextTarget.length) {\n                        nextTarget = targets.eq(0);\n                    }\n                    $(\"<img />\").attr(\"src\", nextTarget.attr(\"href\"));\n                }\n                $wrapper.trigger(\"loaded.ilb2\");\n            }\n            function onclick(e) {\n                e.preventDefault();\n                if (options.quitOnImgClick) {\n                    _quitImageLightbox();\n                    return;\n                }\n                if (wasTouched(e.originalEvent)) {\n                    return;\n                }\n                var posX = (e.pageX || e.originalEvent.pageX) -\n                    e.target.offsetLeft;\n                if (e.target.width / 3 > posX) {\n                    _previousTarget();\n                }\n                else {\n                    _nextTarget();\n                }\n            }\n            image = element\n                .on(\"load.ilb7\", onload)\n                .on(\"error.ilb7\", function () {\n                _onLoadEnd();\n            })\n                .on(\"touchstart.ilb7 pointerdown.ilb7 MSPointerDown.ilb7\", function (e) {\n                if (!wasTouched(e.originalEvent) ||\n                    options.quitOnImgClick) {\n                    return;\n                }\n                if (hasCssTransitionSupport) {\n                    imagePosLeft = parseInt(image.css(\"left\"));\n                }\n                swipeStart =\n                    e.originalEvent.pageX ||\n                        e.originalEvent.touches[0]\n                            .pageX;\n            })\n                .on(\"touchmove.ilb7 pointermove.ilb7 MSPointerMove.ilb7\", function (e) {\n                if ((!hasPointers && e.type === \"pointermove\") ||\n                    !wasTouched(e.originalEvent) ||\n                    options.quitOnImgClick) {\n                    return;\n                }\n                e.preventDefault();\n                swipeEnd =\n                    e.originalEvent.pageX ||\n                        e.originalEvent.touches[0]\n                            .pageX;\n                swipeDiff = swipeStart - swipeEnd;\n                if (hasCssTransitionSupport) {\n                    cssTransitionTranslateX(image, (-swipeDiff).toString() + \"px\", 0);\n                }\n                else {\n                    image.css(\"left\", (imagePosLeft - swipeDiff).toString() + \"px\");\n                }\n            })\n                .on(\"touchend.ilb7 touchcancel.ilb7 pointerup.ilb7 pointercancel.ilb7 MSPointerUp.ilb7 MSPointerCancel.ilb7\", function (e) {\n                if (!wasTouched(e.originalEvent) ||\n                    options.quitOnImgClick) {\n                    return;\n                }\n                if (Math.abs(swipeDiff) > 50) {\n                    if (swipeDiff < 0) {\n                        _previousTarget();\n                    }\n                    else {\n                        _nextTarget();\n                    }\n                }\n                else {\n                    if (hasCssTransitionSupport) {\n                        cssTransitionTranslateX(image, \"0px\", options.animationSpeed / 1000);\n                    }\n                    else {\n                        image.animate({\n                            left: imagePosLeft.toString() + \"px\"\n                        }, options.animationSpeed / 2);\n                    }\n                }\n            });\n            if (preloadedVideo === true) {\n                onload();\n            }\n            if (preloadedVideo === false) {\n                image = image.on(\"loadedmetadata.ilb7\", onload);\n            }\n            if (!videoOptions) {\n                image = image.on(hasPointers\n                    ? \"pointerup.ilb7 MSPointerUp.ilb7\"\n                    : \"click.ilb7\", onclick);\n            }\n        }, options.animationSpeed + 100);\n    }, _removeImage = function () {\n        if (!image.length) {\n            return;\n        }\n        image.remove();\n        image = $();\n    }, _openImageLightbox = function ($target, noHistory) {\n        if (inProgress) {\n            return;\n        }\n        inProgress = false;\n        target = $target;\n        targetIndex = targets.index(target);\n        if (!noHistory) {\n            _pushToHistory();\n        }\n        _onStart();\n        $body.append($wrapper).addClass(\"imagelightbox-open\");\n        $wrapper.trigger(\"start.ilb2\", $target);\n        _loadImage(0);\n    }, _quitImageLightbox = function (noHistory) {\n        if (noHistory === void 0) { noHistory = false; }\n        targetIndex = -1;\n        if (!noHistory) {\n            _pushQuitToHistory();\n        }\n        $wrapper.trigger(\"quit.ilb2\");\n        $body.removeClass(\"imagelightbox-open\");\n        if (!image.length) {\n            return;\n        }\n        image.animate({ opacity: 0 }, options.animationSpeed, function () {\n            _removeImage();\n            inProgress = false;\n            $wrapper.remove().find(\"*\").remove();\n        });\n    }, _addTargets = function (newTargets) {\n        newTargets.each(function () {\n            targets = newTargets.add($(this));\n        });\n        newTargets.on(\"click.ilb7\", { set: targetSet }, function (e) {\n            e.preventDefault();\n            targetSet = $(e.currentTarget).data(\"imagelightbox\");\n            filterTargets();\n            if (targets.length < 1) {\n                _quitImageLightbox();\n            }\n            else {\n                _openImageLightbox($(this), false);\n            }\n        });\n        function filterTargets() {\n            newTargets\n                .filter(function () {\n                return $(this).data(\"imagelightbox\") === targetSet;\n            })\n                .filter(function () {\n                return isTargetValid($(this));\n            })\n                .each(function () {\n                targets = targets.add($(this));\n            });\n        }\n    }, _preloadVideos = function (elements) {\n        elements.each(function () {\n            var videoOptions = $(this).data(\"ilb2Video\");\n            if (videoOptions) {\n                var id = $(this).data(\"ilb2Id\");\n                if (!id) {\n                    // Random id\n                    id =\n                        \"a\" +\n                            (((1 + Math.random()) * 0x10000) | 0).toString(16);\n                }\n                $(this).data(\"ilb2VideoId\", id);\n                var container_1 = {\n                    e: $(\"<video id='\" +\n                        options.id +\n                        \"' preload='metadata' data-ilb2-video-id='\" +\n                        id +\n                        \"'>\"),\n                    i: id,\n                    l: false,\n                    a: undefined,\n                    h: undefined,\n                    w: undefined\n                };\n                $.each(videoOptions, function (key, value) {\n                    switch (key) {\n                        case \"autoplay\":\n                            container_1.a = value;\n                            break;\n                        case \"height\":\n                            container_1.h = value;\n                            break;\n                        case \"sources\":\n                            break;\n                        case \"width\":\n                            container_1.w = value;\n                            break;\n                        default:\n                            // TODO: Remove this general behaviour\n                            container_1.e = container_1.e.attr(key, value);\n                    }\n                });\n                if (videoOptions.sources) {\n                    $.each(videoOptions.sources, function (_, source) {\n                        var sourceElement = $(\"<source>\");\n                        $.each(source, function (key, value) {\n                            // TODO: Remove this general behaviour\n                            sourceElement = sourceElement.attr(key, value);\n                        });\n                        container_1.e.append(sourceElement);\n                    });\n                }\n                container_1.e.on(\"loadedmetadata.ilb7\", function () {\n                    container_1.l = true;\n                });\n                videos.push(container_1);\n            }\n        });\n    };\n    $(window).on(\"resize.ilb7\", _setImage);\n    if (hasHistorySupport && options.history) {\n        $(window).on(\"popstate\", _popHistory);\n    }\n    $(document).ready(function () {\n        if (options.quitOnDocClick) {\n            $(document).on(hasTouch ? \"touchend.ilb7\" : \"click.ilb7\", function (e) {\n                if (image.length && !$(e.target).is(image)) {\n                    e.preventDefault();\n                    _quitImageLightbox();\n                }\n            });\n        }\n        if (options.fullscreen && hasFullscreenSupport) {\n            $(document).on(\"keydown.ilb7\", function (e) {\n                if (!image.length) {\n                    return;\n                }\n                if ([9, 32, 38, 40].includes(e.which)) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                }\n                if ([13].includes(e.which)) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    toggleFullScreen();\n                }\n            });\n        }\n        if (options.enableKeyboard) {\n            $(document).on(\"keydown.ilb7\", function (e) {\n                if (!image.length) {\n                    return;\n                }\n                if ([27].includes(e.which) && options.quitOnEscKey) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    _quitImageLightbox();\n                }\n                if ([37].includes(e.which)) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    _previousTarget();\n                }\n                if ([39].includes(e.which)) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    _nextTarget();\n                }\n            });\n        }\n    });\n    function toggleFullScreen() {\n        var doc = window.document;\n        var docEl = document.getElementById(options.id)\n            .parentElement;\n        var requestFullScreen = docEl.requestFullscreen ||\n            docEl.mozRequestFullScreen ||\n            docEl.webkitRequestFullScreen ||\n            docEl.msRequestFullscreen;\n        var exitFullScreen = doc.exitFullscreen ||\n            doc.mozCancelFullScreen ||\n            doc.webkitExitFullscreen ||\n            doc.msExitFullscreen;\n        if (!doc.fullscreenElement &&\n            !doc.mozFullScreenElement &&\n            !doc.webkitFullscreenElement &&\n            !doc.msFullscreenElement) {\n            void requestFullScreen.call(docEl);\n        }\n        else {\n            void exitFullScreen.call(doc);\n        }\n    }\n    $(document).off(\".ilb7 .ilb2\", options.selector);\n    _addTargets($(this));\n    _openHistory();\n    _preloadVideos(targets);\n    this.addToImageLightbox = function (elements) {\n        _addTargets(elements);\n        _preloadVideos(elements);\n    };\n    this.openHistory = function () {\n        _openHistory();\n    };\n    this.loadPreviousImage = function () {\n        _previousTarget();\n    };\n    this.loadNextImage = function () {\n        _nextTarget();\n    };\n    this.quitImageLightbox = function () {\n        _quitImageLightbox();\n        return this;\n    };\n    this.startImageLightbox = function (element) {\n        if (element) {\n            element.trigger(\"click.ilb7\");\n        }\n        else {\n            $(this).trigger(\"click.ilb7\");\n        }\n    };\n    return this;\n};\nexport {};\n"],"names":["$activityObject","$","attr","append","$arrowLeftObject","$arrowRightObject","$arrows","add","$captionObject","html","$buttonObject","$overlayObject","$navItem","href","$navObject","$wrapper","$body","cssTransitionSupport","s","document","body","documentElement","style","transition","webkitTransition","MozTransition","OTransition","hasCssTransitionSupport","cssTransitionTranslateX","element","positionX","speed","options","prefix","toString","css","hasTouch","window","navigator","hasPointers","pointerEnabled","msPointerEnabled","wasTouched","event","pointerType","MSPOINTER_TYPE_MOUSE","legacyDocument","hasFullscreenSupport","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","hasHistorySupport","history","pushState","fn","imageLightbox","opts","currentIndex","image","inProgress","swipeDiff","target","targetIndex","targets","targetSet","videos","extend","selector","id","allowedTypes","animationSpeed","activity","arrows","button","caption","enableKeyboard","fullscreen","gutter","offsetY","navigation","overlay","preloadNext","quitOnEnd","quitOnImgClick","quitOnDocClick","quitOnEscKey","_onLoadEnd","activityIndicatorOff","_addQueryField","query","key","value","newField","newQuery","keyRegex","RegExp","exec","replace","_pushToHistory","newIndex","dataset","ilb2Id","newState","imageLightboxIndex","imageLightboxSet","set","imagelightbox","location","search","pathname","_removeQueryField","keyRegex1","keyRegex2","_getQueryField","keyValuePair","decodeURIComponent","_openHistory","filter","length","index","parseInt","_openImageLightbox","_previousTarget","_quitImageLightbox","eq","trigger","_loadImage","_nextTarget","activityIndicatorOn","remove","overlayOn","closeButtonOn","appendTo","on","captionReset","data","find","navigationOn","i","clone","$navItems","children","addClass","removeClass","$this","this","tmpTarget","siblings","arrowsOn","e","stopImmediatePropagation","preventDefault","hasClass","_setImage","captionHeight","outerHeight","screenWidth","width","screenHeight","height","gutterFactor","Math","abs","videoId","videoHasDimensions","each","_","video","setSizes","w","h","videoElement","get","undefined","videoWidth","tmpImage","Image","src","onload","videoHeight","imageWidth","imageHeight","ratio","cssHeight","cssWidth","cssLeft","left","direction","params","opacity","animate","_removeImage","setTimeout","preloadedVideo","swipeStart","swipeEnd","imagePosLeft","imgPath","videoOptions","nextTarget","l","a","play","originalEvent","pageX","touches","type","posX","offsetLeft","$target","noHistory","_pushQuitToHistory","_addTargets","newTargets","currentTarget","prop","toLowerCase","test","_preloadVideos","elements","random","container_1","sources","source","sourceElement","push","state","newId","ready","is","doc","docEl","requestFullScreen","exitFullScreen","includes","which","stopPropagation","getElementById","parentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullScreen","msRequestFullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","call","off","addToImageLightbox","openHistory","loadPreviousImage","loadNextImage","quitImageLightbox","startImageLightbox"],"sourceRoot":""}